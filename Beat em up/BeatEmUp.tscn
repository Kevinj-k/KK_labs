[gd_scene load_steps=19 format=3 uid="uid://iuf3qbh3rmtr"]

[ext_resource type="Script" uid="uid://qdpw6dr5s7vq" path="res://Beat em up/beu_player.gd" id="1_t10mj"]
[ext_resource type="Texture2D" uid="uid://dm5sv75607fwb" path="res://Beat em up/adventurer-1.3-Sheet.png" id="2_t10mj"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_wp6yi"]

[sub_resource type="Animation" id="Animation_3m1vn"]
resource_name = "idle"
length = 1.5
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("BEUPlayer/Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.4, 0.866667),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [0, 1, 2]
}

[sub_resource type="Animation" id="Animation_wp6yi"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("BEUPlayer/Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0]
}

[sub_resource type="Animation" id="Animation_07n71"]
resource_name = "walk"
length = 0.5
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("BEUPlayer/Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0.02, 0.0498994, 0.0832328, 0.116566, 0.149899, 0.183233),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 0,
"values": [8, 9, 10, 11, 12, 13]
}

[sub_resource type="Animation" id="Animation_ooyp7"]
resource_name = "attack"
length = 0.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("BEUPlayer/Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.0333333, 0.0666667, 0.1, 0.133333),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 0,
"values": [48, 49, 50, 51, 52]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_w8t3f"]
_data = {
&"RESET": SubResource("Animation_wp6yi"),
&"attack": SubResource("Animation_ooyp7"),
&"idle": SubResource("Animation_3m1vn"),
&"walk": SubResource("Animation_07n71")
}

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_id8e5"]
animation = &"attack"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_7ch3w"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_mr0qs"]
animation = &"walk"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_136if"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_bm8xn"]
advance_mode = 2
advance_condition = &"attack"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_0op3i"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_wviq5"]
advance_mode = 2
advance_condition = &"walk"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ow1v1"]
advance_mode = 2
advance_condition = &"idle"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_syuqf"]
advance_mode = 2
advance_condition = &"attack"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_b1rg3"]
states/attack/node = SubResource("AnimationNodeAnimation_id8e5")
states/attack/position = Vector2(530.667, 207.333)
states/idle/node = SubResource("AnimationNodeAnimation_7ch3w")
states/idle/position = Vector2(329.333, 100.667)
states/walk/node = SubResource("AnimationNodeAnimation_mr0qs")
states/walk/position = Vector2(714.667, 106)
transitions = ["Start", "idle", SubResource("AnimationNodeStateMachineTransition_136if"), "idle", "attack", SubResource("AnimationNodeStateMachineTransition_bm8xn"), "attack", "idle", SubResource("AnimationNodeStateMachineTransition_0op3i"), "idle", "walk", SubResource("AnimationNodeStateMachineTransition_wviq5"), "walk", "idle", SubResource("AnimationNodeStateMachineTransition_ow1v1"), "walk", "attack", SubResource("AnimationNodeStateMachineTransition_syuqf")]

[node name="BeatEmUp" type="Node2D"]

[node name="BEUPlayer" type="CharacterBody2D" parent="."]
position = Vector2(191, 108)
scale = Vector2(4, 4)
script = ExtResource("1_t10mj")
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="BEUPlayer"]
position = Vector2(-4, 3)
shape = SubResource("CapsuleShape2D_wp6yi")

[node name="Sprite2D" type="Sprite2D" parent="BEUPlayer"]
texture = ExtResource("2_t10mj")
hframes = 8
vframes = 12

[node name="AnimationPlayer" type="AnimationPlayer" parent="BEUPlayer"]
root_node = NodePath("../..")
libraries = {
&"": SubResource("AnimationLibrary_w8t3f")
}

[node name="AnimationTree" type="AnimationTree" parent="BEUPlayer"]
root_node = NodePath("../..")
tree_root = SubResource("AnimationNodeStateMachine_b1rg3")
anim_player = NodePath("../AnimationPlayer")
parameters/conditions/attack = false
parameters/conditions/idle = false
parameters/conditions/walk = false
